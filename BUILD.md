# K-scaffold Project Build & Development Instructions

The K-scaffold's library does not need building; however the test sheet should be built, all tests should be run, the documentation data updated, and the documentation site regenerated before code is pushed to NPM. All commands for building and testing the scaffold can be found in the [master package.json](./package.json) file.

## Initial Dev environment Setup
To get your dev environment setup, make sure that you have Node.js v18+ installed and have npm. Then run the full-install command:
```shell
npm run full-install
```
This will install the dependencies for all aspects of the dev environment.
## Testing the scaffold

The scaffold uses [vitest](https://vitest.dev/) to run the unit tests.

### The test sheet

 Before tests are run, the test sheet should be built which can be done in watch mode (`npm run watch`) during development or single mode (`npm run build`) at build time. Once the test sheet is built, tests can be run.
 
### Running tests

Tests can be run in watch mode (`npm run test-watch`) during development or single run mode (`npm run test`) at build time. The watch mode will also launch the vitest ui to make test results easier to read during development.

## Updating the documentation site

The documentation site is built with Vue 3 using data generated by [JSDoc](https://jsdoc.app/), [SASSDoc](http://sassdoc.com/), and [PugDoc](https://github.com/Aratramba/pug-doc). The documentation site itself is built using [vitepress](https://vitepress.dev/).

### Documentation data

The documentation data is generated by JSDoc, PugDoc, and SASSDoc via the [docGen.js](./docGen.js) file. The command to build this data is `npm run docs`. This will put the updated documentation in the [docs data folder](./docs/src/assets/data/).

### Building the documentation site

Once the documentation data has been generated, the documentation site can be built. The site build can be run in watch mode (`npm run docs:dev`) in development or in single run mode (`npm run docs:build`) at build time.